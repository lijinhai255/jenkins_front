(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["reg"],{"072e":function(t,e,a){"use strict";var s=a("bc25"),i=a.n(s);i.a},"7ded":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return d}));a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("159b");var s=a("ade3"),i=a("b775");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var o=function(t){return i["a"].get("/public/getCaptcha",{params:{sid:t}})},l=function(t){return i["a"].post("/login/forget",n({},t))},u=function(t){return i["a"].post("/login/login",n({},t))},c=function(t){return i["a"].post("/login/reg",n({},t))},d=function(t){return i["a"].post("/login/reset",n({},t))}},b8b8:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layui-container fly-marginTop"},[a("div",{staticClass:"fly-panel fly-panel-user",attrs:{pad20:""}},[a("div",{staticClass:"layui-tab layui-tab-brief",attrs:{"lay-filter":"user"}},[a("ul",{staticClass:"layui-tab-title"},[a("li",[a("router-link",{attrs:{to:{name:"login"}}},[t._v("登入")])],1),a("li",{staticClass:"layui-this"},[t._v("注册")])]),a("div",{staticClass:"layui-form layui-tab-content",staticStyle:{padding:"20px 0"},attrs:{id:"LAY_ucm"}},[a("validation-observer",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.validate;return[a("div",{staticClass:"layui-tab-item layui-show"},[a("div",{staticClass:"layui-form layui-form-pane"},[a("form",{attrs:{method:"post"}},[a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{name:"username",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_email"}},[t._v("用户名")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"layui-input",attrs:{type:"text",name:"username",placeholder:"请输入用户名",autocomplete:"off"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),a("div",{staticClass:"layui-form-mid layui-word-aux"},[t._v(" 将会成为您唯一的登入名 ")])]),a("div",{staticClass:"layui-row"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_username"}},[t._v("昵称")]),a("validation-provider",{attrs:{name:"name",rules:"required|min:4|name"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"layui-input",attrs:{type:"text",name:"name",placeholder:"请输入昵称",autocomplete:"off"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"layui-form-mid"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{name:"password",rules:"required|min:6|max:16|confirmed:confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_pass"}},[t._v("密码")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"layui-input",attrs:{type:"password",name:"password",placeholder:"请输入密码",autocomplete:"off"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"layui-form-mid layui-word-aux"},[t._v(" 6到16个字符 ")])]),a("div",{staticClass:"layui-row"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_repass"}},[t._v("确认密码")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],staticClass:"layui-input",attrs:{type:"password",name:"repassword",placeholder:"请输入密码",autocomplete:"off"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}})])]),a("div",{staticClass:"layui-row"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("validation-provider",{attrs:{name:"code",rules:"required|length:4"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"layui-row"},[a("label",{staticClass:"layui-form-label",attrs:{for:"L_vercode"}},[t._v("验证码")]),a("div",{staticClass:"layui-input-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"layui-input",attrs:{type:"text",name:"code",placeholder:"请输入验证码",autocomplete:"off"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),a("div",{},[a("span",{staticClass:"svg",staticStyle:{color:"#c00"},domProps:{innerHTML:t._s(t.svg)},on:{click:function(e){return t._getCode()}}})])]),a("div",{staticClass:"layui-form-mid"},[a("span",{staticStyle:{color:"#c00"}},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),a("div",{staticClass:"layui-form-item"},[a("button",{staticClass:"layui-btn",attrs:{type:"button"},on:{click:function(e){s().then(t.submit)}}},[t._v(" 立即注册 ")])]),a("div",{staticClass:"layui-form-item fly-form-app"},[a("span",[t._v("或者直接使用社交账号快捷注册")]),a("a",{staticClass:"iconfont icon-qq",attrs:{href:"",onclick:"layer.msg('正在通过QQ登入', {icon:16, shade: 0.1, time:0})",title:"QQ登入"}}),a("a",{staticClass:"iconfont icon-weibo",attrs:{href:"",onclick:"layer.msg('正在通过微博登入', {icon:16, shade: 0.1, time:0})",title:"微博登入"}})])])])])]}}])})],1)])])])},i=[],r=(a("b0c0"),a("96cf"),a("1da1")),n=a("7ded"),o=a("7bb1"),l={name:"reg",data:function(){return{username:"",name:"",password:"",repassword:"",code:"",svg:""}},components:{ValidationProvider:o["b"],ValidationObserver:o["a"]},mounted:function(){this._getCode()},methods:{_getCode:function(){var t=this,e=this.$store.state.sid;Object(n["b"])(e).then((function(e){200===e.code&&(t.svg=e.data)}))},submit:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$refs.observer.validate();case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:Object(n["d"])({username:this.username,password:this.password,name:this.name,code:this.code,sid:this.$store.state.sid}).then((function(t){200===t.code?(a.username="",a.password="",a.repassword="",a.name="",a.code="",requestAnimationFrame((function(){a.$refs.observer.reset()})),a.$alert("注册成功"),setTimeout((function(){a.$router.push("/login")}),1e3)):a.$refs.observer.setErrors(t.msg)}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},u=l,c=(a("072e"),a("2877")),d=Object(c["a"])(u,s,i,!1,null,"a7812830",null);e["default"]=d.exports},bc25:function(t,e,a){}}]);
//# sourceMappingURL=reg.68581ad7.js.map